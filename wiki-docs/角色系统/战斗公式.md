---
alias:
  - 战斗公式
  - 伤害计算
scope: 角色系统
---
## 概述

本文档描述了角色系统中的核心战斗公式，包括伤害计算、暴击计算等。

## 基础定义

【伤害】：玩家造成的伤害，不是实际值，但是会传递给目标进行下一步计算
【实际伤害】：玩家造成的实际伤害，经过减伤计算后的值
【暴击率】：玩家的暴击率，取值范围 0~1
【暴击伤害】：玩家的暴击伤害倍率，计算玩家暴击了之后的伤害应该是 攻击力 \* (1 + 暴击伤害)

## 伤害公式

%% [伤害] = <暴击1率> * (<暴击伤害> + 1) * <攻击力> * (1 - [防御减伤比例]) %%
%% [实际伤害] = [伤害] * (1 - <减伤比例>) - <固定减伤值> %%
%% [防御减伤比例] = <防御力> / (<防御力> + 100) %%

%%123*123%%

其中【伤害】是中间计算值，【实际伤害】是最终对目标造成的伤害。
